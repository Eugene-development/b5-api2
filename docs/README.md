# B5 API Documentation

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è GraphQL API –ø—Ä–æ–µ–∫—Ç–∞ Bonus5.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

### üÜï –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ (15 –¥–µ–∫–∞–±—Ä—è 2024)
- **üìñ [ORDER_STATUS_SUMMARY.md](./ORDER_STATUS_SUMMARY.md)** - –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ (–Ω–∞—á–Ω–∏—Ç–µ –æ—Ç—Å—é–¥–∞!)
- **üîß [ORDER_STATUS_IMPLEMENTATION.md](./ORDER_STATUS_IMPLEMENTATION.md)** - –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **üß™ [ORDER_STATUS_TESTING_GUIDE.md](./ORDER_STATUS_TESTING_GUIDE.md)** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

### üì¶ –ó–∞–∫–∞–∑—ã (Orders)

- **[ORDERS_API.md](./ORDERS_API.md)** - API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–∫–∞–∑–∞–º–∏
- **[ORDER_NUMBER_GENERATION.md](./ORDER_NUMBER_GENERATION.md)** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ –∑–∞–∫–∞–∑–æ–≤
- **[ORDER_PARTNER_PAYMENT_STATUS_FIX.md](./ORDER_PARTNER_PAYMENT_STATUS_FIX.md)** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –æ–ø–ª–∞—Ç—ã –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º

### üí∞ –ë–æ–Ω—É—Å—ã

- **[AGENT_BONUSES_FIX.md](./AGENT_BONUSES_FIX.md)** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤
- **[BONUS_FILTERING.md](./BONUS_FILTERING.md)** - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–æ–Ω—É—Å–æ–≤

### üìÑ –î–æ–≥–æ–≤–æ—Ä—ã (Contracts)

- **[CONTRACT_NUMBER_GENERATION.md](./CONTRACT_NUMBER_GENERATION.md)** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤

### üìã –¢–µ—Ö–∑–∞–¥–∞–Ω–∏—è (Technical Specifications)

- **[TZ_FILE_TYPES_FIX.md](./TZ_FILE_TYPES_FIX.md)** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤

### üåê CORS –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **[CORS_RUBONUS_FIX.md](./CORS_RUBONUS_FIX.md)** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS –¥–ª—è Rubonus

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤

–°–∞–º–∞—è —Å–≤–µ–∂–∞—è —Ñ—É–Ω–∫—Ü–∏—è - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞–∫–∞–∑–æ–≤:

1. **–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è:** [ORDER_STATUS_SUMMARY.md](./ORDER_STATUS_SUMMARY.md)
2. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:** [ORDER_STATUS_IMPLEMENTATION.md](./ORDER_STATUS_IMPLEMENTATION.md)
3. **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** [ORDER_STATUS_TESTING_GUIDE.md](./ORDER_STATUS_TESTING_GUIDE.md)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤
curl -X POST http://localhost:8000/graphql \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{"query":"query{orderStatuses{id value slug color}}"}'
```

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –¢–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

- **SUMMARY** - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏
- **IMPLEMENTATION** - –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **TESTING_GUIDE** - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- **FIX** - –û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
- **API** - –û–ø–∏—Å–∞–Ω–∏–µ API endpoints

### –°–æ–≥–ª–∞—à–µ–Ω–∏—è

- –í—Å–µ –Ω–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ (`b5-api-2/docs/`)
- –ù–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –≤ UPPER_SNAKE_CASE
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã: –û–ø–∏—Å–∞–Ω–∏–µ, –î–∞—Ç–∞, –°—Ç–∞—Ç—É—Å
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏

## üîç –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –ü–æ —Ñ—É–Ω–∫—Ü–∏—è–º

- **–ó–∞–∫–∞–∑—ã:** `ORDER_*`
- **–ë–æ–Ω—É—Å—ã:** `*BONUS*`
- **–î–æ–≥–æ–≤–æ—Ä—ã:** `CONTRACT_*`
- **–°—Ç–∞—Ç—É—Å—ã:** `*STATUS*`

### –ü–æ —Ç–∏–ø—É

- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `*IMPLEMENTATION*`
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** `*TESTING*`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** `*FIX*`
- **API:** `*API*`

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ GraphQL —Å—Ö–µ–º—ã
```bash
php artisan lighthouse:print-schema
```

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
```bash
php artisan lighthouse:clear-cache
php artisan cache:clear
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Tinker
```bash
php artisan tinker
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
tail -f storage/logs/laravel.log
```

## üìä –°—Ç–∞—Ç—É—Å —Ñ—É–Ω–∫—Ü–∏–π

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è |
|---------|--------|--------------|
| –°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ | ‚úÖ –ì–æ—Ç–æ–≤–æ | ORDER_STATUS_*.md |
| API –∑–∞–∫–∞–∑–æ–≤ | ‚úÖ –ì–æ—Ç–æ–≤–æ | ORDERS_API.md |
| –ë–æ–Ω—É—Å—ã –∞–≥–µ–Ω—Ç–æ–≤ | ‚úÖ –ì–æ—Ç–æ–≤–æ | AGENT_BONUSES_FIX.md |
| –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–æ–≤ | ‚úÖ –ì–æ—Ç–æ–≤–æ | *_NUMBER_GENERATION.md |
| CORS | ‚úÖ –ì–æ—Ç–æ–≤–æ | CORS_RUBONUS_FIX.md |

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

- **Frontend:** `b5-admin/docs/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- **Database:** `b5-db-2/database/migrations/` - –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- **Agent App:** `b5-agent/docs/` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞

## üìù –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–π—Ç–µ:

1. **SUMMARY.md** - –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞
2. **IMPLEMENTATION.md** - –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
3. **TESTING_GUIDE.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

–®–∞–±–ª–æ–Ω:
```markdown
# –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

## –°—Ç–∞—Ç—É—Å: [‚úÖ –ì–æ—Ç–æ–≤–æ | ‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ | üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ]

**–î–∞—Ç–∞:** DD –º–µ—Å—è—Ü YYYY

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏...

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏...

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å...

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤...
```

## üí° –°–æ–≤–µ—Ç—ã

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `#docs/` –≤ —á–∞—Ç–µ —Å Kiro –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ SUMMARY —Ñ–∞–π–ª—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TESTING_GUIDE –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ —ç—Ç–æ—Ç README –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üÜò –ü–æ–º–æ—â—å

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π TESTING_GUIDE
2. –ò–∑—É—á–∏—Ç–µ IMPLEMENTATION –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `storage/logs/laravel.log`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `php artisan tinker` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üìÖ –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

- **15.12.2024** - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∑–∞–∫–∞–∑–æ–≤
- **13.12.2024** - –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API
